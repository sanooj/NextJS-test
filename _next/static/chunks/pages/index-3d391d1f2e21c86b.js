(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7864)}])},5508:function(e,t,r){"use strict";var n=r(5893);t.Z=function(){return(0,n.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,n.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"24px",height:"30px",viewBox:"0 0 24 30",children:[(0,n.jsx)("rect",{x:"0",y:"0",width:"4",height:"10",fill:"#333",children:(0,n.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0",dur:"0.6s",repeatCount:"indefinite"})}),(0,n.jsx)("rect",{x:"10",y:"0",width:"4",height:"10",fill:"#333",children:(0,n.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.2s",dur:"0.6s",repeatCount:"indefinite"})}),(0,n.jsx)("rect",{x:"20",y:"0",width:"4",height:"10",fill:"#333",children:(0,n.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.4s",dur:"0.6s",repeatCount:"indefinite"})})]})})}},5323:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(5893),a=function(){return(0,n.jsx)("nav",{className:"bg-gray-800",children:(0,n.jsx)("div",{className:"container mx-auto",children:(0,n.jsx)("div",{className:"relative flex items-center justify-between h-16",children:(0,n.jsx)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:(0,n.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,n.jsx)("img",{className:"hidden lg:block h-8 w-auto",src:"https://tailwindui.com/img/logos/workflow-logo-indigo-500-mark-white-text.svg",alt:"Workflow"})})})})})})},i=function(e){var t=e.children;return(0,n.jsxs)("div",{className:"min-h-full","data-testid":"layout",children:[(0,n.jsx)(a,{}),(0,n.jsx)("div",{className:"container mx-auto py-12",children:t})]})}},7864:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w},fetchData:function(){return v}});var n=r(5893),a=r(7294),i=r(9669),s=r.n(i),c=r(381),l=r.n(c),o=r(387),d=r(1664),u=function(e){var t=e.position,r=e.startsAt,a=e.endsAt,i=e.id,s=((0,o.useRouter)(),"YYYY-MM-DD (HH:mm a)"),c=l()(r).format(s),u=l()(a).format(s);return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm text-gray-500",children:(0,n.jsx)("div",{className:"text-sm font-medium text-gray-900","data-testid":"itemPositionName",children:t.name})})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm text-gray-500","data-testid":"itemStartDate",children:c})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500","data-testid":"itemEndDate",children:u}),(0,n.jsx)("td",{children:(0,n.jsx)(d.default,{href:"/details/[id]",as:"/details/".concat(i),children:(0,n.jsx)("span",{className:"text-xs cursor-pointer bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow","data-testid":"itemLink",children:"View Details"})})})]})};function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var x=function(e){var t=e.items,r=e.pagination,i=e.disableButton,s=e.filterValue,c=(0,a.useState)([]),l=c[0],o=c[1],d=(0,a.useState)(s),x=d[0],h=d[1];return(0,a.useEffect)((function(){h(s)}),[s]),(0,a.useEffect)((function(){t&&t.length&&x?o((function(e){return f(e).concat(f(t))})):o(f(t))}),[t]),(0,a.useEffect)((function(){var e=l.length>=r.count;i(e)}),[l]),(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider","data-testid":"positionName",children:"Position name"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider","data-testid":"startTime",children:"Start time"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider","data-testid":"endTime",children:"End time"}),(0,n.jsx)("th",{scope:"col"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 list",children:l&&l.map((function(e,t){return(0,a.createElement)(u,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){m(e,t,r[t])}))}return e}({},e,{key:t}))}))})]})},h=r(5323),p=r(5508),b=function(){return(0,n.jsx)("div",{className:"bg-indigo-600",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto py-3 px-3 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between flex-wrap",children:[(0,n.jsx)("div",{className:"w-0 flex-1 flex items-center",children:(0,n.jsx)("input",{type:"datetime-local",name:"startAt",id:"startAt",className:"w-full focus:ring-indigo-500 focus:border-indigo-500 block pl-7 pr-12 sm:text-sm border-b border-gray-300 rounded-md mx-10",placeholder:"Start Time"})}),(0,n.jsx)("div",{className:"w-0 flex-1 flex items-center",children:(0,n.jsx)("input",{type:"datetime-local",name:"endsAt",id:"endsAt",className:"w-full focus:ring-indigo-500 focus:border-indigo-500 block pl-7 pr-12 sm:text-sm border-b border-gray-300 rounded-md mx-10",placeholder:"End Time"})}),(0,n.jsx)("div",{className:" flex-shrink-0 sm:ml-3",children:(0,n.jsx)("button",{type:"submit",className:"bg-transparent text-white font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-white rounded",children:"Search"})})]})})})};function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){g(e,t,r[t])}))}return e}var j=r(8764).Buffer.from("frontend@shyftplan.com:api_test_auth_token","utf8").toString("base64"),v=function(e,t,r,n){return s().get("".concat("https://fyx8bq1lpa.execute-api.eu-central-1.amazonaws.com/Prod/events","?limit=").concat(e,"&offset=").concat(t).concat(r&&n?"&startsAt="+r+"&startsAt="+n:""),{headers:{Authorization:"Basic ".concat(j)}}).then((function(e){return e.data})).catch((function(e){return[]}))},w=function(){var e=!0,t=(0,a.useState)(),r=t[0],i=t[1],s=(0,a.useState)(10),c=s[0],l=(s[1],(0,a.useState)(0)),o=l[0],d=l[1],u=(0,a.useState)(!1),m=u[0],f=u[1],g=(0,a.useState)(),j=g[0],w=g[1],N=(0,a.useState)(),k=N[0],S=N[1],O=(0,a.useState)(!0),A=O[0],E=O[1];(0,a.useEffect)((function(){return _(o),function(){return e=!1}}),[]);var _=function(t,r,n){t&&d(t),v(c,t,r,n).then((function(t){e&&(i(t),E(!0))})).catch((function(){e&&E(!0)}))};return(0,n.jsx)(h.Z,{children:(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsxs)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:[(0,n.jsxs)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:[(0,n.jsx)("form",{onSubmit:function(e){e.preventDefault(),w(e.target.startAt.value),S(e.target.endsAt.value),_(0,e.target.startAt.value,e.target.endsAt.value),E(!1)},className:"mb-6",children:(0,n.jsx)(b,{})}),(0,n.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg min-h-full",children:r?(0,n.jsx)(x,y({},r,{disableButton:function(e){f(e)},filterValue:A})):(0,n.jsx)(p.Z,{})})]}),!m&&(0,n.jsx)("div",{className:"flex justify-center align-center pt-6",children:(0,n.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded",onClick:function(){return _(o+c,j,k)},children:"Load More"})})]})})})}}},function(e){e.O(0,[885,181,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);